<div style="text-align: center;"><h1>Movies & Directors</h1></div>

<div class="main-div">
  <div class="table-div mat-elevation-z8">
    <table mat-table [dataSource]="moviesTableDataSource">

      <ng-container matColumnDef="ID">
        <th mat-header-cell *matHeaderCellDef> ID</th>
        <td mat-cell *matCellDef="let element"> {{element.id}} </td>
      </ng-container>

      <ng-container matColumnDef="title">
        <th mat-header-cell *matHeaderCellDef> Title</th>
        <td mat-cell *matCellDef="let element"> {{element.title}} </td>
      </ng-container>

      <ng-container matColumnDef="director">
        <th mat-header-cell *matHeaderCellDef> Director </th>
        <td mat-cell *matCellDef="let element"> {{element.director.name}} </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="moviesDisplayedColumns; sticky: true"></tr>
      <tr mat-row *matRowDef="let row; columns: moviesDisplayedColumns;"></tr>
    </table>
  </div>


  <div class="table-div mat-elevation-z8">
    <table mat-table [dataSource]="directorsTableDataSource">

      <ng-container matColumnDef="ID">
        <th mat-header-cell *matHeaderCellDef> ID</th>
        <td mat-cell *matCellDef="let element"> {{element.id}} </td>
      </ng-container>

      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef> Name</th>
        <td mat-cell *matCellDef="let element"> {{element.name}} </td>
      </ng-container>

      <ng-container matColumnDef="nationality">
        <th mat-header-cell *matHeaderCellDef> Nationality</th>
        <td mat-cell *matCellDef="let element"> {{element.nationality}} </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="directorsDisplayedColumns; sticky: true"></tr>
      <tr mat-row *matRowDef="let row; columns: directorsDisplayedColumns;"></tr>
    </table>
  </div>

  <form class="example-form">
    <mat-form-field class="example-full-width">
      <h2>Movies </h2>
      <div class="form-group">
        <mat-label>Title:</mat-label>
        <input matInput id="title" [(ngModel)]="inputMovieTitle" [ngModelOptions]="{standalone: true}"/>
      </div>
    </mat-form-field>

    <mat-form-field class="example-full-width">
      <h2>Directors </h2>
      <div class="form-group">
        <mat-label>Name:</mat-label>
        <input matInput id="name" [(ngModel)]="inputDirectorName" [ngModelOptions]="{standalone: true}"/>
      </div>

      <div class="form-group">
        <mat-label>Nationality:</mat-label>
        <input matInput id="nationality" [(ngModel)]="inputDirectorNationality" [ngModelOptions]="{standalone: true}"/>
      </div>
    </mat-form-field>

    <div class="actions-div">
      <button id="addMovieAndDirector" mat-raised-button color="primary" (click)="addMovieAndDirector()">
        Add Movie & Director
      </button>
    </div>
  </form>

  <form class="example-form">
    <mat-form-field class="example-full-width">
      <h2>Delete </h2>
      <div class="form-group">
        <mat-label>Movie id:</mat-label>
        <input matInput [(ngModel)]="inputMovieId" [ngModelOptions]="{standalone: true}"/>
      </div>

      <div class="form-group">
        <mat-label>Director id:</mat-label>
        <input matInput [(ngModel)]="inputDirectorId" [ngModelOptions]="{standalone: true}"/>
      </div>
    </mat-form-field>

    <div class="actions-div">
      <button mat-raised-button color="primary" (click)="deleteMovieAndDirector()">
        Delete Movie & Director
      </button>
    </div>

    <div class="actions-div">
      <button id="deadlock" mat-raised-button color="primary" (click)="performDeadlock()">
        Deadlock
      </button>
    </div>
  </form>
</div>

